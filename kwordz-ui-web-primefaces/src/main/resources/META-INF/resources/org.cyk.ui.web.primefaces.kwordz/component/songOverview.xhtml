<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<cc:interface componentType="org.cyk.ui.primefaces.kwordz.SongOverview">
		<cc:attribute name="value" required="true" />
	</cc:interface>

	<cc:implementation>
		
		<ui:param name="singerName" value="#{cc.value.song.album.singer.name}" />
		<ui:param name="albumName" value="#{cc.value.song.album.name}" />
		<ui:param name="songName" value="#{cc.value.song.name}" />
		
		<p:panelGrid columns="#{cc.value.infosAtBottom?1:2}">
			
			<h:panelGroup>
				<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/128/music-note.png" 
						alt="#{cc.value.song.name}" title="#{cc.value.song.name}"/>
			</h:panelGroup>
			
			<h:panelGroup>
				<table class="cyk-kwordz-song-overview-table-tr-infos-table">
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-songName">
							<h:link outcome="songView" value="#{songName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.identifier}" />
							</h:link>
						</td> </tr>
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-singerName">
							<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/32/person.png" 
								alt="#{uiManager.text('word.singer')} : #{cc.value.song.album.singer.name}" title="#{uiManager.text('word.singer')} : #{cc.value.song.album.singer.name}"/>
							<h:link outcome="singerView" value="#{singerName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.album.singer.identifier}" />
							</h:link>
						</td></tr>
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-albumName">
							<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/32/disc.png" 
								alt="#{uiManager.text('word.album')} : #{cc.value.song.album.name}" title="#{uiManager.text('word.album')} : #{cc.value.song.album.name}"/>
							<h:link outcome="albumView" value="#{albumName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.album.identifier}" />
							</h:link>
						</td></tr>
					</table>
			</h:panelGroup>
			
		</p:panelGrid>
		
		<ui:fragment rendered="false">
		<table class="cyk-kwordz-song-overview-table">
			<tr class="cyk-kwordz-song-overview-table-tr-thumbmail">
				<td>
					<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/128/music-note.png" 
						alt="#{cc.value.song.name}" title="#{cc.value.song.name}"/>
				</td>
			</tr>
			<tr class="cyk-kwordz-song-overview-table-tr-infos">
				<td>
					<ui:include src="include/songOverviewInfos.xhtml" />
					<!--
					<table class="cyk-kwordz-song-overview-table-tr-infos-table">
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-songName">
							<h:link outcome="songView" value="#{songName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.identifier}" />
							</h:link>
						</td> </tr>
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-singerName">
							<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/32/person.png" 
								alt="#{uiManager.text('word.singer')} : #{cc.value.song.album.singer.name}" title="#{uiManager.text('word.singer')} : #{cc.value.song.album.singer.name}"/>
							<h:link outcome="singerView" value="#{singerName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.album.singer.identifier}" />
							</h:link>
						</td></tr>
						<tr><td class="cyk-kwordz-song-overview-table-tr-infos-table-td-albumName">
							<p:graphicImage library="org.cyk.ui.web.primefaces.kwordz" name="images/icons/32/disc.png" 
								alt="#{uiManager.text('word.album')} : #{cc.value.song.album.name}" title="#{uiManager.text('word.album')} : #{cc.value.song.album.name}"/>
							<h:link outcome="albumView" value="#{albumName}">
								<f:param name="#{webManager.requestParameterIdentifiable}" value="#{cc.value.song.album.identifier}" />
							</h:link>
						</td></tr>
					</table>
					-->
				</td>
			</tr>
		</table>
		</ui:fragment>	
	</cc:implementation>

</ui:composition>